(()=>{"use strict";var t={553:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_RUN_TIME=e.HEIGHT=e.PREVIEW_WIDTH=e.P5_VERSION=void 0,e.P5_VERSION="0.4.23",e.PREVIEW_WIDTH=150,e.HEIGHT=300,e.MAX_RUN_TIME=1e3}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(()=>{var t,e,r=n(553),i="p5-widget.js",o=["width: 100%","background-color: white","border: 1px solid #ec245e","box-sizing: border-box"],a=document.currentScript||document.querySelectorAll("script[src$='p5-widget.js']")[0],s=(t=a.src,e=t.slice(0,-i.length),"http:"===window.location.protocol&&/^https:/.test(e)&&(e=e.replace("https:","http:")),e),u=!a.hasAttribute("data-manual"),d=1;function c(t){var e=t.getAttribute("data-height")||"";if(-1!==e.indexOf("%"))return e;var n=parseInt(e);return isNaN(n)&&(n=r.HEIGHT),n}function l(t){var e,n=document.createElement("iframe"),r=c(t),i=parseInt(t.getAttribute("data-preview-width")),a=function(t){var e=document.createElement("a");return e.setAttribute("href",t),e.href}(t.getAttribute("data-base-url")),u=t.getAttribute("data-p5-version"),d=parseInt(t.getAttribute("data-max-run-time")),l=t.hasAttribute("data-autoplay"),p=["id="+encodeURIComponent(t.getAttribute("data-id"))],h=o.slice();function m(i){p.push("sketch="+encodeURIComponent(i)),"number"==typeof r?h.push("min-height: "+r+"px"):h.push("height: "+r),e=s+"p5-widget.html?"+p.join("&"),n.setAttribute("src",e),n.setAttribute("style",h.join("; ")),t.parentNode.replaceChild(n,t)}if(!isNaN(i)&&i>=0&&p.push("previewWidth="+i),!isNaN(d)&&d>=0&&p.push("maxRunTime="+d),a&&p.push("baseSketchURL="+encodeURIComponent(a)),u&&p.push("p5version="+encodeURIComponent(u)),l&&p.push("autoplay=on"),t.src&&t.textContent&&t.textContent.trim())return m(['// Your widget includes both a "src" attribute and inline script',"// content, which makes no sense. Please remove one of them."].join("\n"));t.src?function(t,e){var n=function(n){var r=["// p5.js-widget failed to retrieve "+t+"."];n&&"string"==typeof n&&r.push("// "+n),e(r.join("\n"))},r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200==r.status?e(r.responseText):n("Server returned HTTP "+r.status+".")},r.onerror=n,r.send(null)}(t.src,m):m(t.textContent)}function p(t){var e=c(t);t.style.display="block",t.style.fontSize="0",t.style.width="100%",t.style.minHeight=e+"px",t.style.background="#f0f0f0",t.hasAttribute("data-id")||(t.setAttribute("data-id",d.toString()),d++),function(t,e){var n;function r(){(function(t){var e=t.getBoundingClientRect();return e.bottom>=0&&e.right>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)})(t)&&(clearInterval(n),window.removeEventListener("scroll",r,!1),window.removeEventListener("resize",r,!1),e(t))}n=setInterval(r,1e3),window.addEventListener("scroll",r,!1),window.addEventListener("resize",r,!1),r()}(t,l)}function h(){var t=document.querySelectorAll("script[type='text/p5']");[].slice.call(t).forEach((function(t){p(t)}))}u&&("complete"===document.readyState?h():window.addEventListener("load",h,!1)),window.p5Widget={baseURL:s,url:s+i,replaceScript:p,replaceAll:h,defaults:r}})()})();
//# sourceMappingURL=p5-widget.js.map